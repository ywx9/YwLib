#pragma once
#include "abc.h"

extern "C" {
#if not(__ywstd_is_exported or __ywstd_is_imported)
namespace ywstd {
#endif

/// return types for `std::localeconv`
struct lconv {
  char* decimal_point;
  char* thousands_sep;
  char* grouping;
  char* int_curr_symbol;
  char* currency_symbol;
  char* mon_decimal_point;
  char* mon_thousands_sep;
  char* mon_grouping;
  char* positive_sign;
  char* negative_sign;
  char int_frac_digits;
  char frac_digits;
  char p_cs_precedes;
  char p_sep_by_space;
  char n_cs_precedes;
  char n_sep_by_space;
  char p_sign_posn;
  char n_sign_posn;
  wchar_t* _W_decimal_point;
  wchar_t* _W_thousands_sep;
  wchar_t* _W_int_curr_symbol;
  wchar_t* _W_currency_symbol;
  wchar_t* _W_mon_decimal_point;
  wchar_t* _W_mon_thousands_sep;
  wchar_t* _W_positive_sign;
  wchar_t* _W_negative_sign;
};

/// gets and sets the current C locale
char* __cdecl setlocale(int cat, const char* locale);

/// queries numeric and monetary formatting details of the current locale
lconv* __cdecl localeconv();

#if not(__ywstd_is_exported or __ywstd_is_imported)
}
#endif
}

__ywstd_export namespace std {
  using __ywstd_cfunc lconv;
  using __ywstd_cfunc setlocale;
  using __ywstd_cfunc localeconv;
}

////////////////////////////////////////////////////////////////////////////////
// for <xlocale>

__ywstd_dead(int _UPPER = 0x01);
__ywstd_dead(int _LOWER = 0x02);
__ywstd_dead(int _DIGIT = 0x04);
__ywstd_dead(int _SPACE = 0x08);
__ywstd_dead(int _PUNCT = 0x10);
__ywstd_dead(int _CONTROL = 0x20);
__ywstd_dead(int _BLANK = 0x40);
__ywstd_dead(int _HEX = 0x80);
__ywstd_dead(int _SH_DENYRW = 0x10);
__ywstd_dead(int _SH_DENYWR = 0x20);
__ywstd_dead(int _SH_DENYRD = 0x30);
__ywstd_dead(int _SH_DENYNO = 0x40);
__ywstd_dead(int _SH_SECURE = 0x80);
