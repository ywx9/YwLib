/// \file cwchar
/// \copyright (c) 2025 ywx9.com

// clang-format off
#pragma once
#include "abc.h"

////////////////////////////////////////////////////////////////////////////////
// internal definitions

#if __ywstd_is_exported
extern "C" {
using wint_t = unsigned short;
wchar_t* __cdecl wcscpy(wchar_t*, const wchar_t*);
wchar_t* __cdecl wcsncpy(wchar_t*, const wchar_t*, size_t);
wchar_t* __cdecl wcscat(wchar_t*, const wchar_t*);
wchar_t* __cdecl wcsncat(wchar_t*, const wchar_t*, size_t);
size_t __cdecl wcsxfrm(wchar_t*, const wchar_t*, size_t);
size_t __cdecl wcslen(const wchar_t*);
int __cdecl wcscmp(const wchar_t*, const wchar_t*);
int __cdecl wcsncmp(const wchar_t*, const wchar_t*, size_t);
int __cdecl wcscoll(const wchar_t*, const wchar_t*);
const wchar_t* __cdecl wcschr(const wchar_t*, wchar_t);
const wchar_t* __cdecl wcsrchr(const wchar_t*, wchar_t);
size_t __cdecl wcsspn(const wchar_t*, const wchar_t*);
size_t __cdecl wcscspn(const wchar_t*, const wchar_t*);
const wchar_t* __cdecl wcspbrk(const wchar_t*, const wchar_t*);
const wchar_t* __cdecl wcsstr(const wchar_t*, const wchar_t*);
wchar_t* __cdecl wcstok(wchar_t*, const wchar_t*);
const wchar_t* __cdecl wmemchr(const wchar_t*, wchar_t, size_t);
int __cdecl wmemcmp(const wchar_t*, const wchar_t*, size_t);
wchar_t* __cdecl wmemcpy(wchar_t*, const wchar_t*, size_t);
wchar_t* __cdecl wmemmove(wchar_t*, const wchar_t*, size_t);
wchar_t* __cdecl wmemset(wchar_t*, wchar_t, size_t);
int __cdecl mbsinit(const mbstate_t*);
wint_t __cdecl btowc(int);
int __cdecl wctob(wint_t);
size_t __cdecl mbrlen(const char*, size_t, mbstate_t*);
size_t __cdecl mbrtowc(wchar_t*, const char*, size_t, mbstate_t*);
size_t __cdecl wcrtomb(char*, wchar_t, mbstate_t*);
size_t __cdecl mbsrtowcs(wchar_t*, const char**, size_t, mbstate_t*);
size_t __cdecl wcsrtombs(char*, const wchar_t**, size_t, mbstate_t*);
wint_t __cdecl getwc(FILE*);
wint_t __cdecl fgetwc(FILE*);
wchar_t* __cdecl fgetws(wchar_t*, int, FILE*);
wint_t __cdecl putwc(wint_t, FILE*);
wint_t __cdecl fputwc(wint_t, FILE*);
int __cdecl fputws(const wchar_t*, FILE*);
wint_t __cdecl getwchar();
wint_t __cdecl putwchar(wint_t);
wint_t __cdecl ungetwc(wint_t, FILE*);
int __cdecl fwide(FILE*, int);
long __cdecl wcstol(const wchar_t*, wchar_t**, int);
long long __cdecl wcstoll(const wchar_t*, wchar_t**, int);
unsigned long __cdecl wcstoul(const wchar_t*, wchar_t**, int);
unsigned long long __cdecl wcstoull(const wchar_t*, wchar_t**, int);
float __cdecl wcstof(const wchar_t*, wchar_t**);
double __cdecl wcstod(const wchar_t*, wchar_t**);
long double __cdecl wcstold(const wchar_t*, wchar_t**);
size_t __cdecl wcsftime(wchar_t*, size_t, const wchar_t*, const tm*);
}
#endif

////////////////////////////////////////////////////////////////////////////////
// public definitions

__ywstd_export namespace std {

inline wchar_t* __cdecl wcscpy(wchar_t* dest, const wchar_t* s) {
  return __ywstd_switch(::wcscpy(dest, s), {});
}

inline wchar_t* __cdecl wcsncpy(wchar_t* dest, const wchar_t* s, size_t n) {
  return __ywstd_switch(::wcsncpy(dest, s, n), {});
}

inline wchar_t* __cdecl wcscat(wchar_t* dest, const wchar_t* s) {
  return __ywstd_switch(::wcscat(dest, s), {});
}

inline wchar_t* __cdecl wcsncat(wchar_t* dest, const wchar_t* s, size_t n) {
  return __ywstd_switch(::wcsncat(dest, s, n), {});
}

inline size_t __cdecl wcsxfrm(wchar_t* dest, const wchar_t* s, size_t n) {
  return __ywstd_switch(::wcsxfrm(dest, s, n), {});
}

inline size_t __cdecl wcslen(const wchar_t* s) {
  return __ywstd_switch(::wcslen(s), {});
}

inline int __cdecl wcscmp(const wchar_t* s1, const wchar_t* s2) {
  return __ywstd_switch(::wcscmp(s1, s2), {});
}

inline int __cdecl wcsncmp(const wchar_t* s1, const wchar_t* s2, size_t n) {
  return __ywstd_switch(::wcsncmp(s1, s2, n), {});
}

inline int __cdecl wcscoll(const wchar_t* s1, const wchar_t* s2) {
  return __ywstd_switch(::wcscoll(s1, s2), {});
}

inline const wchar_t* __cdecl wcschr(const wchar_t* s, const wchar_t c) {
  return __ywstd_switch(::wcschr(s, c), {});
}
inline wchar_t* __cdecl wcscpy(wchar_t* dest, const wchar_t c) {
  return const_cast<wchar_t*>(std::wcschr(const_cast<const wchar_t*>(dest), c));
}

inline const wchar_t* __cdecl wcsrchr(const wchar_t* s, const wchar_t c) {
  return __ywstd_switch(::wcsrchr(s, c), {});
}
inline wchar_t* __cdecl wcsrchr(wchar_t* s, const wchar_t c) {
  return const_cast<wchar_t*>(std::wcsrchr(const_cast<const wchar_t*>(s), c));
}

inline size_t __cdecl wcsspn(const wchar_t* s1, const wchar_t* s2) {
  return __ywstd_switch(::wcsspn(s1, s2), {});
}

inline size_t __cdecl wcscspn(const wchar_t* s1, const wchar_t* s2) {
  return __ywstd_switch(::wcscspn(s1, s2), {});
}

inline const wchar_t* __cdecl wcspbrk(const wchar_t* s1, const wchar_t* s2) {
  return __ywstd_switch(::wcspbrk(s1, s2), {});
}
inline wchar_t* __cdecl wcspbrk(wchar_t* s1, const wchar_t* s2) {
  return const_cast<wchar_t*>(std::wcspbrk(const_cast<const wchar_t*>(s1), s2));
}

inline const wchar_t* __cdecl wcsstr(const wchar_t* s1, const wchar_t* s2) {
  return __ywstd_switch(::wcsstr(s1, s2), {});
}
inline wchar_t* __cdecl wcsstr(wchar_t* s1, const wchar_t* s2) {
  return const_cast<wchar_t*>(std::wcsstr(const_cast<const wchar_t*>(s1), s2));
}

inline wchar_t* __cdecl wcstok(wchar_t* s1, const wchar_t* s2) {
  return __ywstd_switch(::wcstok(s1, s2), {});
}

inline const wchar_t* __cdecl wmemchr(const wchar_t* s, wchar_t c, size_t n) {
  return __ywstd_switch(::wmemchr(s, c, n), {});
}
inline wchar_t* __cdecl wmemchr(wchar_t* s, wchar_t c, size_t n) {
  return const_cast<wchar_t*>(std::wmemchr(const_cast<const wchar_t*>(s), c, n));
}

inline int __cdecl wmemcmp(const wchar_t* s1, const wchar_t* s2, size_t n) {
  return __ywstd_switch(::wmemcmp(s1, s2, n), {});
}

inline wchar_t* __cdecl wmemcpy(wchar_t* dest, const wchar_t* src, size_t n) {
  return __ywstd_switch(::wmemcpy(dest, src, n), {});
}

inline wchar_t* __cdecl wmemmove(wchar_t* dest, const wchar_t* src, size_t n) {
  return __ywstd_switch(::wmemmove(dest, src, n), {});
}

inline wchar_t* __cdecl wmemset(wchar_t* s, wchar_t c, size_t n) {
  return __ywstd_switch(::wmemset(s, c, n), {});
}

inline int __cdecl mbsinit(const mbstate_t* ps) {
  return __ywstd_switch(::mbsinit(ps), {});
}

inline wint_t __cdecl btowc(int c) {
  return __ywstd_switch(::btowc(c), {});
}

inline int __cdecl wctob(wint_t c) {
  return __ywstd_switch(::wctob(c), {});
}

inline size_t __cdecl mbrlen(const char* s, size_t n, mbstate_t* ps) {
  return __ywstd_switch(::mbrlen(s, n, ps), {});
}

inline size_t __cdecl mbrtowc(wchar_t* pwc, const char* s, size_t n, mbstate_t* ps) {
  return __ywstd_switch(::mbrtowc(pwc, s, n, ps), {});
}

inline size_t __cdecl wcrtomb(char* s, wchar_t wc, mbstate_t* ps) {
  return __ywstd_switch(::wcrtomb(s, wc, ps), {});
}

inline size_t __cdecl mbsrtowcs(wchar_t* dest, const char** src, size_t n, mbstate_t* ps) {
  return __ywstd_switch(::mbsrtowcs(dest, src, n, ps), {});
}

inline size_t __cdecl wcsrtombs(char* dest, const wchar_t** src, size_t n, mbstate_t* ps) {
  return __ywstd_switch(::wcsrtombs(dest, src, n, ps), {});
}

inline wint_t __cdecl getwc(FILE* stream) {
  return __ywstd_switch(::getwc(stream), {});
}

inline wint_t __cdecl fgetwc(FILE* stream) {
  return __ywstd_switch(::fgetwc(stream), {});
}

inline wchar_t* __cdecl fgetws(wchar_t* s, int n, FILE* stream) {
  return __ywstd_switch(::fgetws(s, n, stream), {});
}

inline wint_t __cdecl putwc(wint_t c, FILE* stream) {
  return __ywstd_switch(::putwc(c, stream), {});
}

inline wint_t __cdecl fputwc(wint_t c, FILE* stream) {
  return __ywstd_switch(::fputwc(c, stream), {});
}

inline int __cdecl fputws(const wchar_t* s, FILE* stream) {
  return __ywstd_switch(::fputws(s, stream), {});
}

inline wint_t __cdecl getwchar() {
  return __ywstd_switch(::getwchar(), {});
}

inline wint_t __cdecl putwchar(wint_t c) {
  return __ywstd_switch(::putwchar(c), {});
}

inline wint_t __cdecl ungetwc(wint_t c, FILE* stream) {
  return __ywstd_switch(::ungetwc(c, stream), {});
}

inline int __cdecl fwide(FILE* stream, int mode) {
  return __ywstd_switch(::fwide(stream, mode), {});
}

inline long __cdecl wcstol(const wchar_t* s, wchar_t** end, int base) {
  return __ywstd_switch(::wcstol(s, end, base), {});
}

inline long long __cdecl wcstoll(const wchar_t* s, wchar_t** end, int base) {
  return __ywstd_switch(::wcstoll(s, end, base), {});
}

inline unsigned long __cdecl wcstoul(const wchar_t* s, wchar_t** end, int base) {
  return __ywstd_switch(::wcstoul(s, end, base), {});
}

inline unsigned long long __cdecl wcstoull(const wchar_t* s, wchar_t** end, int base) {
  return __ywstd_switch(::wcstoull(s, end, base), {});
}

inline float __cdecl wcstof(const wchar_t* s, wchar_t** end) {
  return __ywstd_switch(::wcstof(s, end), {});
}

inline double __cdecl wcstod(const wchar_t* s, wchar_t** end) {
  return __ywstd_switch(::wcstod(s, end), {});
}

inline long double __cdecl wcstold(const wchar_t* s, wchar_t** end) {
  return __ywstd_switch(::wcstold(s, end), {});
}

inline size_t __cdecl wcsftime(wchar_t* s, size_t n, const wchar_t* format, const tm* timeptr) {
  return __ywstd_switch(::wcsftime(s, n, format, timeptr), {});
}
}
